# 服务器 SQL 模式

MySQL 服务器可以在不同的 SQL 模式下运行，并且可以针对不同的客户端以不同的方式应用这些模式，具体取决于 sql_mode 系统变量的值。 DBA 可以设置全局 SQL 模式以匹配站点服务器操作要求，并且每个应用程序都可以根据自己的要求设置其会话 SQL 模式。

模式会影响 MySQL 支持的 SQL 语法和它执行的数据验证检查。 这使得在不同环境中使用 MySQL 以及将 MySQL 与其他数据库服务器一起使用变得更加容易。

> 重要的
SQL 模式和用户定义的分区。在创建数据并将数据插入分区表后更改服务器 SQL 模式可能会导致此类表的行为发生重大变化，并可能导致数据丢失或损坏。强烈建议您在使用用户定义的分区创建表后永远不要更改 SQL 模式。

复制分区表时，源和副本上不同的 SQL 模式也会导致问题。为获得最佳结果，您应该始终在源和副本上使用相同的服务器 SQL 模式。

有关详细信息，请参阅第 “分区的限制和限制”。

## 最重要的 SQL 模式

* ANSI
  此模式更改语法和行为以更符合标准 SQL。它是本节末尾列出的特殊组合模式之一。

* STRICT_TRANS_TABLES
  如果无法将给定的值插入到事务表中，则中止该语句。对于非事务表，如果值出现在单行语句或多行语句的第一行中，则中止语句。本节稍后将提供更多详细信息。

## SQL 模式的完整列表

* NO_ENGINE_SUBSTITUTION
  当 CREATE TABLE 或 ALTER TABLE 等语句指定禁用或未编译的存储引擎时，控制默认存储引擎的自动替换。
  默认情况下，启用 NO_ENGINE_SUBSTITUTION。
  因为存储引擎可以在运行时插入，所以不可用的引擎以相同的方式处理：
  禁用 NO_ENGINE_SUBSTITUTION 后，对于 CREATE TABLE，使用默认引擎，如果所需引擎不可用，则会出现警告。 对于 ALTER TABLE，会出现警告并且不会更改表。
  启用 NO_ENGINE_SUBSTITUTION 后，如果所需的引擎不可用，则会发生错误并且不会创建或更改表。
